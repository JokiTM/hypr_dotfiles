# ============================
# === Deaktivierte Original-Bindings ===
# ============================

unbind = Super, Super_L           # Launcher Original deaktiviert
unbind = $kbLock                 # Lock deaktiviert (alternativ Super+L)
unbind = $kbTodo                 # Todo deaktiviert (alternativ Super+R)
unbind = $kbShowPanels           # Panels deaktiviert (alternativ Super+K)
unbind = Super+Shift, L          # Sleep deaktiviert
unbind = $kbTerminal             # Terminal deaktiviert (alternativ Super+Return)
unbind = , XF86AudioRaiseVolume  # Lautstärke erhöhen deaktiviert
unbind = , XF86AudioLowerVolume  # Lautstärke verringern deaktiviert
unbind = Super, W                # Browser-Default deaktiviert
unbind = Super, C                # Communication-Default deaktiviert
unbind = Super, G                # OBS-Default deaktiviert
unbind = Super, D                # Communication-Default deaktiviert
unbind = Super+Alt, F
unbind = Super, F
unbind = Super+Alt, Space 
unbind = Super, P                # Unbind Pin WIndow
unbind = Ctrl+Alt, V
unbind = Super, Q

# ============================
# === Variablen ===
# ============================
$userConfigDir = /home/mathis/.config/caelestia

$wsaction = /home/mathis/.config/caelestia/scriptFIX.fish
$browser = firefox
$editor = vim

$kbMoveWinToWs = Super+Shift
$kbWindowFullscreen = Super+Alt, F
$kbWindowBorderedFullscreen = Super, F
$kbToggleWindowFloating = Super, Space
$kbTerminal = Super, Return
$kbShowPanels = Super+Alt, K
$kbCommunication = Super, C


$windowGapsOut = 20

general {
  gaps_out = $windowGapsOut
}

# ============================
# === Custom Keybind Overrides ===
# ============================

# Launcher
bind = Super, D, global, caelestia:launcher

# Fokus bewegen mit HJKL (vim-style)
bind = Super, H, movefocus, l
bind = Super, J, movefocus, d
bind = Super, K, movefocus, u
bind = Super, L, movefocus, r

# Fenster verschieben mit Shift+HJKL
bind = Super+Shift, H, movewindow, l
bind = Super+Shift, J, movewindow, d
bind = Super+Shift, K, movewindow, u
bind = Super+Shift, L, movewindow, r

# Fenster Toggle Floating
#bind = $kbToggleWindowFloating, togglefloating
#bind = $kbToggleWindowFloating,exec, hyprctl --batch "dispatch togglefloating ; dispatch resizewindowpixel exact 70% 70% ; dispatch centerwindow 1"
bind = $kbToggleWindowFloating,exec, bash -c 'hyprctl dispatch togglefloating; sleep 0.1; hyprctl --batch "dispatch resizewindowpixel exact 70% 70%; dispatch centerwindow 1"'
# Fullscreen
bind = $kbWindowFullscreen, fullscreen, 0
bind = $kbWindowBorderedFullscreen, fullscreen, 1
# Terminal
bind = $kbTerminal, exec, $terminal 

#Audio Volume Controll
bind = Ctrl+Alt, V, exec, pkill pavucontrol || app2unit -- pavucontrol

#Close window
binde = Super, Q, killactive, 

# Browser
bind = $kbBrowser, exec, app2unit -- $browser

# Communication toggle
bind = $kbCommunication, exec, caelestia toggle communication

# OBS-bind 
bind = Super, G, exec, app2unit -- obs 

# OBS-bind 
bind = Super, U, exec, UDISKIE_DMENU_LAUNCHER="fuzzel" udiskie-dmenu --dmenu

# VPN-bind 
bind = Super, P, exec, /home/mathis/.local/bin/vpntoggle.sh

# Exit hyprland
bind = Ctrl+Alt, Backspace, exec, hyprctl dispatch exit

# Workspaces – Fenster verschieben (Super+Shift + Zahl)
bind = Super+Shift, 1, exec, $wsaction movetoworkspace 1
bind = Super+Shift, 2, exec, $wsaction movetoworkspace 2
bind = Super+Shift, 3, exec, $wsaction movetoworkspace 3
bind = Super+Shift, 4, exec, $wsaction movetoworkspace 4
bind = Super+Shift, 5, exec, $wsaction movetoworkspace 5
bind = Super+Shift, 6, exec, $wsaction movetoworkspace 6
bind = Super+Shift, 7, exec, $wsaction movetoworkspace 7
bind = Super+Shift, 8, exec, $wsaction movetoworkspace 8
bind = Super+Shift, 9, exec, $wsaction movetoworkspace 9
bind = Super+Shift, 0, exec, $wsaction movetoworkspace 10

# Workspaces Gruppen – Fenster verschieben (Ctrl+Super+Shift + Zahl)
bind = Ctrl+Super+Shift, 1, exec, $wsaction -g movetoworkspace 1
bind = Ctrl+Super+Shift, 2, exec, $wsaction -g movetoworkspace 2
bind = Ctrl+Super+Shift, 3, exec, $wsaction -g movetoworkspace 3
bind = Ctrl+Super+Shift, 4, exec, $wsaction -g movetoworkspace 4
bind = Ctrl+Super+Shift, 5, exec, $wsaction -g movetoworkspace 5
bind = Ctrl+Super+Shift, 6, exec, $wsaction -g movetoworkspace 6
bind = Ctrl+Super+Shift, 7, exec, $wsaction -g movetoworkspace 7
bind = Ctrl+Super+Shift, 8, exec, $wsaction -g movetoworkspace 8
bind = Ctrl+Super+Shift, 9, exec, $wsaction -g movetoworkspace 9
bind = Ctrl+Super+Shift, 0, exec, $wsaction -g movetoworkspace 10

# Custom Hyprsunset-Toggle
bind = Ctrl+Alt, S, exec, hyprsunset-toggle

# Caelestia modules
bind = Ctrl+Alt, K, global, caelestia:showall

# ============================
# === Input Settings ===
# ============================
#windowrule = size 150 100, floating:1
#
#windowrule = float, vlc
#windowrule = center, vlc
#windowrule = size 900 500, vlc
#
#mpv fullscreen macht kurzen black screen deshalb
#windowrule = content none, class:mpv 
#HDR zeug
xx_color_management_v4 = true


input {
    kb_layout = de
    numlock_by_default = true
    follow_mouse = 1 
    float_switch_override_focus = 0 
}
misc{
    enable_swallow = true
    swallow_regex = ^(Alacritty|kitty|foot)$
  }

bind = SUPER, R, exec, hyprctl dispatch submap resize_mode
#bind = SUPER, R, exec, notify-send "Resize mode active 󰖳" && hyprctl dispatch submap resize_mode

submap = resize_mode
binde = , H, resizeactive, -30 0
binde = , L, resizeactive, 30 0
binde = , K, resizeactive, 0 -30
binde = , J, resizeactive, 0 20
binde = Super, H, resizeactive, -30 0
binde = Super, L, resizeactive, 30 0
binde = Super, K, resizeactive, 0 -30
binde = Super, J, resizeactive, 0 20
binde = , Escape, submap, global
binde = , Return, submap, global
binde = SUPER, R, submap, global

submap = global

# ============================
# ========= Execs ============
# ============================

exec-once = wl-clip-persist --clipboard regular
exec-once = hyprsunset
exec-once = socat UNIX-LISTEN:/tmp/usb.sock,fork EXEC:/home/mathis/.local/bin/sansa/sansawrapper.sh


# System Trays
exec-once = systemctl --user start systray
exec-once = systemctl --user start vpntray


# ============================
# === Monitor Settings ===
# ============================
source = $userConfigDir/monitors.conf

# ============================
# === Weitere Quellen ===
# ============================

source = $userConfigDir/workspaces.conf




#debug {
#    suppress_errors = true
#}
